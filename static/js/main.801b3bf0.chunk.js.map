{"version":3,"sources":["assets/image/anonymous-avatar-icon-9.jpg","redux/dialogs-reducer.js","components/Users/Users.module.css","components/common/Preloader/preloader.module.css","components/Navbar/Navbar.module.css","api/api.js","reportWebVitals.js","components/Navbar/Navbar.jsx","components/News/News.jsx","components/Music/Music.jsx","components/Settings/Settings.jsx","redux/users-reducer.js","components/common/Paginator/Paginator.jsx","components/Users/User.jsx","components/Users/Users.jsx","redux/users-selectors.js","components/Users/UsersContainer.jsx","components/Header/Header.jsx","redux/auth-reducer.js","components/Header/HeaderContainer.jsx","components/Login/Login.jsx","components/Login/LoginContainer.jsx","redux/app-reducer.js","redux/redux-store.js","App.js","index.js","components/common/FormsControls/FormsControls.module.css","components/common/Preloader/preloader.jsx","components/common/FormsControls/FormsControls.js","utils/validators/validators.js","components/common/Paginator/Paginator.module.css","components/Header/Header.module.css","redux/profile-reducer.js"],"names":["ADD_MESSAGE","initialState","dialogs","id","name","messages","message","addMessageActionCreator","newMessageBody","type","dialogsReducer","state","action","newMessage","module","exports","instance","axios","withCredentials","baseURL","headers","userAPI","getUsers","currentPage","pageSize","get","then","response","data","followAPI","setFollow","userId","post","setUnfollow","delete","authAPI","me","login","email","password","rememberMe","logout","profileAPI","getProfile","getStatus","updateStatus","status","put","saveProfilePhoto","photoFile","formData","FormData","append","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","Navbar","className","s","nav","item","to","activeClassName","activeLink","News","props","Music","Settings","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","users","totalUsersCount","isFetching","followingInProgress","followSuccess","unfollowSuccess","toggleIsFetching","toggleFollowingProgress","usersReducer","map","user","followed","filter","Paginator","pagesCount","Math","ceil","totalItemsCount","pages","i","push","portionCount","portionSize","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","styles","paginator","onClick","portion","page","classNames","selectedPage","pageNumber","e","onPageChanged","User","unfollow","follow","src","photos","small","defaultUserPhoto","userPhoto","disabled","some","Users","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","UsersContainer","setCurrentPage","requestUsers","this","React","Component","compose","connect","dispatch","a","resultCode","items","totalCount","Header","style","header","loginBlock","isAuth","SET_USER_DATA","setAuthUserData","payload","getAuthUserData","authApi","authReducer","HeaderContainer","auth","maxLength40","maxLengthCreator","LoginReduxForm","reduxForm","form","onSubmit","handleSubmit","Field","placeholder","component","Input","validate","required","error","formSummaryError","Login","LoginContainer","length","stopSubmit","_error","INITIALIZED_SUCCESS","initialized","appReducer","reducers","combineReducers","profilePage","profileReducer","dialogsPage","app","formReduser","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","__store__","DialogsContainer","lazy","ProfileContainer","App","initializeApp","Suspense","fallback","path","render","AppContainer","withRouter","promise","Promise","all","MainApp","StrictMode","ReactDOM","document","getElementById","Preloader","lds_ring","TextArea","input","meta","hasError","touched","formControl","value","maxLength","ADD_POST","SET_USER_PROFILE","SET_STATUS","DELETE_POST","SAVE_PHOTO_SUCCESS","postsData","likesCount","profile","addPostAС","newPost","setStatus","getUserProfile","getUserStatus","updateUserStatus","saveProfileUserPhoto","file","postId"],"mappings":"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","file":"static/js/main.801b3bf0.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/anonymous-avatar-icon-9.151fac77.jpg\";","const ADD_MESSAGE = 'ADD-MESSAGE';\r\n\r\nlet initialState = {\r\n    dialogs: [\r\n        {id: 1, name: 'dialog1'},\r\n        {id: 2, name: 'dialog2'},\r\n        {id: 3, name: 'dialog3'},\r\n        {id: 4, name: 'dialog4'},\r\n        {id: 5, name: 'dialog5'},\r\n    ],\r\n    messages: [\r\n        {id: 1, message: 'сообщение 1'},\r\n        {id: 2, message: 'сообщение 2'},\r\n        {id: 3, message: 'сообщение 3'},\r\n        {id: 4, message: 'сообщение 4'},\r\n        {id: 5, message: 'сообщение 5'},\r\n    ]\r\n}\r\n\r\nexport const dialogsReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ADD_MESSAGE:\r\n            let newMessage = action.newMessageBody;\r\n            return {\r\n                ...state,\r\n                messages: [...state.messages, {id: 6, message: newMessage}]\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const addMessageActionCreator = (newMessageBody) => ({type: ADD_MESSAGE, newMessageBody});\r\n\r\nexport default dialogsReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userPhoto\":\"Users_userPhoto__18sHy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"lds_ring\":\"preloader_lds_ring__2JtHN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__3xXgL\",\"item\":\"Navbar_item__1ArcK\",\"activeLink\":\"Navbar_activeLink__O6CMI\"};","import * as axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: \"https://social-network.samuraijs.com/api/1.0/\",\r\n    headers: {\r\n        \"API-KEY\": \"46fb8b54-104d-4722-908d-101fea714c32\"\r\n    }\r\n});\r\n\r\nexport const userAPI = {\r\n    getUsers(currentPage = 1, pageSize = 10) {\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n            .then(response => response.data);\r\n    }\r\n};\r\n\r\nexport const followAPI = {\r\n    setFollow(userId = 1) {\r\n        return instance.post(`follow/${userId}`)\r\n            .then(response => response.data);\r\n    },\r\n    setUnfollow(userId = 1) {\r\n        return instance.delete(`follow/${userId}`)\r\n            .then(response => response.data);\r\n    }\r\n}\r\n\r\nexport const authAPI = {\r\n    me() {\r\n        return instance.get(`auth/me`);\r\n    },\r\n    login(email, password, rememberMe = false) {\r\n        return instance.post(`auth/login`, {email, password, rememberMe});\r\n    },\r\n    logout() {\r\n        return instance.delete(`auth/login`);\r\n    }\r\n};\r\n\r\nexport const profileAPI = {\r\n    getProfile(userId) {\r\n        return instance.get(`profile/${userId}`)\r\n            .then(response => response.data);\r\n    },\r\n    getStatus(userId) {\r\n        return instance.get(`profile/status/` + userId);\r\n    },\r\n    updateStatus(status) {\r\n        return instance.put(`profile/status`, {status: status});\r\n    },\r\n    saveProfilePhoto(photoFile) {\r\n\r\n        const formData = new FormData();\r\n        formData.append(\"image\", photoFile)\r\n        return instance.put(`profile/photo`, formData, {\r\n            headers: {\r\n                'Content-Type': 'multipart/form-data'\r\n            }\r\n        });\r\n    }\r\n};\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport s from './Navbar.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst Navbar = () => {\r\n    return (\r\n        <nav className={`${s.nav}`}>\r\n            <div className={s.item}>\r\n                <NavLink to=\"/profile\" activeClassName={s.activeLink}>Профиль</NavLink>\r\n            </div>\r\n            <div className={`${s.item}`}>\r\n                <NavLink to=\"/dialogs\" activeClassName={s.activeLink}>Сообщения</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to=\"/users\" activeClassName={s.activeLink}>Друзья</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to=\"/news\" activeClassName={s.activeLink}>Новости</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to=\"/music\" activeClassName={s.activeLink}>Музыка</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to=\"/settings\" activeClassName={s.activeLink}>Настройки</NavLink>\r\n            </div>\r\n\r\n        </nav>\r\n    )\r\n}\r\n\r\nexport default Navbar;\r\n\r\n\r\n","import React from 'react';\r\nimport s from './News.module.css';\r\n\r\nconst News = (props) => {\r\n    return (\r\n        <div>\r\n            News\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default News;\r\n","import React from 'react';\r\nimport s from './Music.module.css';\r\n\r\nconst Music = (props) => {\r\n    return (\r\n        <div>\r\n            Music\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Music;\r\n","import React from 'react';\r\nimport s from './Settings.module.css';\r\n\r\nconst Settings = (props) => {\r\n    return (\r\n        <div>\r\n            Settings\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Settings;\r\n","import {followAPI, userAPI} from \"../api/api\";\r\n\r\nconst FOLLOW = 'users/FOLLOW';\r\nconst UNFOLLOW = 'users/UNFOLLOW';\r\nconst SET_USERS = 'users/SET_USERS';\r\nconst SET_CURRENT_PAGE = 'users/SET_CURRENT_PAGE';\r\nconst SET_TOTAL_USERS_COUNT = 'users/SET_TOTAL_USERS_COUNT';\r\nconst TOGGLE_IS_FETCHING = 'users/TOGGLE_IS_FETCHING';\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'users/TOGGLE_IS_FOLLOWING_PROGRESS';\r\n\r\nlet initialState = {\r\n    users: [\r\n        /* {\r\n             id: 1, photoUrl: 'https://bipbap.ru/wp-content/uploads/2018/03/03-3-700x637-640x582.jpg',\r\n             followed: true, fullName: 'Name1', status: 'Status1', location: {city: 'Minsk', country: 'Belarus'}\r\n         },\r\n         {\r\n             id: 2, photoUrl: 'https://bipbap.ru/wp-content/uploads/2018/03/03-3-700x637-640x582.jpg',\r\n             followed: false, fullName: 'Name2', status: 'Status2', location: {city: 'Minsk', country: 'Belarus'}\r\n         },\r\n         {\r\n             id: 3, photoUrl: 'https://bipbap.ru/wp-content/uploads/2018/03/03-3-700x637-640x582.jpg',\r\n             followed: true, fullName: 'Name3', status: 'Status3', location: {city: 'Minsk', country: 'Belarus'}\r\n         },\r\n         {\r\n             id: 4, photoUrl: 'https://bipbap.ru/wp-content/uploads/2018/03/03-3-700x637-640x582.jpg',\r\n             followed: false, fullName: 'Name4', status: 'Status4', location: {city: 'Minsk', country: 'Belarus'}\r\n         },\r\n         {\r\n             id: 5, photoUrl: 'https://bipbap.ru/wp-content/uploads/2018/03/03-3-700x637-640x582.jpg',\r\n             followed: true, fullName: 'Name5', status: 'Status5', location: {city: 'Minsk', country: 'Belarus'}\r\n         },\r\n         {\r\n             id: 6, photoUrl: 'https://bipbap.ru/wp-content/uploads/2018/03/03-3-700x637-640x582.jpg',\r\n             followed: false, fullName: 'Name6', status: 'Status6', location: {city: 'Minsk', country: 'Belarus'}\r\n         },\r\n         {\r\n             id: 7, photoUrl: 'https://bipbap.ru/wp-content/uploads/2018/03/03-3-700x637-640x582.jpg',\r\n             followed: true, fullName: 'Name7', status: 'Status7', location: {city: 'Minsk', country: 'Belarus'}\r\n         }*/\r\n    ],\r\n    pageSize: 10,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: false,\r\n    followingInProgress: []\r\n};\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                users: state.users.map(user => {\r\n                    if (user.id === action.userId) {\r\n                        return {...user, followed: true}\r\n                    }\r\n                    return user;\r\n                })\r\n            }\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                users: state.users.map(user => {\r\n                    if (user.id === action.userId) {\r\n                        return {...user, followed: false}\r\n                    }\r\n                    return user;\r\n                })\r\n            }\r\n        case SET_USERS: {\r\n            return {\r\n                ...state,\r\n                users: action.users\r\n            }\r\n        }\r\n        case SET_CURRENT_PAGE: {\r\n            return {\r\n                ...state,\r\n                currentPage: action.currentPage\r\n            }\r\n        }\r\n        case SET_TOTAL_USERS_COUNT: {\r\n            return {\r\n                ...state,\r\n                totalUsersCount: action.totalUsersCount\r\n            }\r\n        }\r\n        case TOGGLE_IS_FETCHING: {\r\n            return {\r\n                ...state,\r\n                isFetching: action.isFetching\r\n            }\r\n        }\r\n        case TOGGLE_IS_FOLLOWING_PROGRESS: {\r\n            return {\r\n                ...state,\r\n                followingInProgress: action.isFetching\r\n                    ? [...state.followingInProgress, action.userId]\r\n                    : state.followingInProgress.filter(id => id != action.userId)\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const followSuccess = (userId) => ({type: FOLLOW, userId});\r\nexport const unfollowSuccess = (userId) => ({type: UNFOLLOW, userId});\r\nexport const setUsers = (users) => ({type: SET_USERS, users});\r\nexport const setCurrentPage = (currentPage) => ({type: SET_CURRENT_PAGE, currentPage});\r\nexport const setTotalUsersCount = (totalUsersCount) => ({type: SET_TOTAL_USERS_COUNT, totalUsersCount});\r\nexport const toggleIsFetching = (isFetching) => ({type: TOGGLE_IS_FETCHING, isFetching});\r\nexport const toggleFollowingProgress = (isFetching, userId) => ({\r\n    type: TOGGLE_IS_FOLLOWING_PROGRESS,\r\n    isFetching,\r\n    userId\r\n});\r\n\r\nexport const requestUsers = (page, pageSize) => {\r\n    return async (dispatch) => {\r\n        dispatch(toggleIsFetching(true));\r\n\r\n        let data = await userAPI.getUsers(page, pageSize);\r\n        dispatch(toggleIsFetching(false));\r\n        dispatch(setUsers(data.items));\r\n        dispatch(setTotalUsersCount(data.totalCount));\r\n    }\r\n};\r\n\r\n\r\nexport const follow = (userId) => {\r\n    return async (dispatch) => {\r\n        dispatch(toggleFollowingProgress(true, userId));\r\n        let data = await followAPI.setFollow(userId);\r\n        if (data.resultCode == 0) {\r\n            dispatch(followSuccess(userId));\r\n        }\r\n        dispatch(toggleFollowingProgress(false, userId));\r\n    }\r\n};\r\n\r\nexport const unfollow = (userId) => {\r\n    return async (dispatch) => {\r\n        dispatch(toggleFollowingProgress(true, userId));\r\n        let data = await followAPI.setUnfollow(userId)\r\n        if (data.resultCode == 0) {\r\n            dispatch(unfollowSuccess(userId));\r\n        }\r\n        dispatch(toggleFollowingProgress(false, userId));\r\n    }\r\n};\r\n\r\n\r\nexport default usersReducer;","import React, {useState} from 'react'\r\nimport styles from \"./Paginator.module.css\";\r\nimport classNames from \"classnames\"\r\n\r\nlet Paginator = (props) => {\r\n\r\n    let pagesCount = Math.ceil(props.totalItemsCount / props.pageSize);\r\n    let pages = [];\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i);\r\n    }\r\n\r\n    let portionCount = Math.ceil(pagesCount / props.portionSize);\r\n    let [portionNumber, setPortionNumber] = useState(1);\r\n    let leftPortionPageNumber = (portionNumber - 1) * props.portionSize + 1;\r\n    let rightPortionPageNumber = portionNumber * props.portionSize;\r\n\r\n    return <div className={styles.paginator}>\r\n        {portionNumber > 1 &&\r\n        <button onClick={() => {\r\n            setPortionNumber(portionNumber - 1)\r\n        }}>пред.</button>}\r\n        {pages\r\n            .filter(portion => portion >= leftPortionPageNumber && portion <= rightPortionPageNumber)\r\n            .map(page => {\r\n                return <span className={ classNames({\r\n                    [styles.selectedPage]: props.currentPage === page},\r\n                    styles.pageNumber)}\r\n\r\n                             onClick={(e) => {\r\n                                 props.onPageChanged(page)\r\n                             }}\r\n                             key={page.id}>\r\n                        {page}\r\n                    </span>\r\n            })}\r\n        {portionCount > portionNumber &&\r\n        <button onClick={() => {\r\n            setPortionNumber(portionNumber + 1)\r\n        }}>след.</button>}\r\n    </div>\r\n}\r\n\r\nexport default Paginator;","import React from 'react'\r\nimport styles from \"./Users.module.css\";\r\nimport defaultUserPhoto from \"../../assets/image/anonymous-avatar-icon-9.jpg\";\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nlet User = ({user, followingInProgress, unfollow, follow}) => {\r\n\r\n    return (\r\n        <div>\r\n                <span>\r\n                    <div>\r\n                        <NavLink to={'/profile/' + user.id}>\r\n                        <img src={user.photos.small != null ? user.photos.small : defaultUserPhoto}\r\n                             className={styles.userPhoto}/>\r\n                             </NavLink>\r\n                    </div>\r\n                    <div>\r\n                        {user.followed\r\n                            ? <button disabled={followingInProgress.some(id => id == user.id)} onClick={() => {\r\n                                unfollow(user.id);\r\n                            }}>Отписаться</button>\r\n                            : <button disabled={followingInProgress.some(id => id == user.id)} onClick={() => {\r\n                                follow(user.id);\r\n                            }}>Подписаться</button>}\r\n                    </div>\r\n                </span>\r\n            <span>\r\n                    <span>\r\n                        <div>{user.name}</div>\r\n                        <div>{user.status}</div>\r\n                    </span>\r\n                    <span>\r\n                        <div>{\"user.location.country\"}</div>\r\n                        <div>{\"user.location.city\"}</div>\r\n                    </span>\r\n                </span>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default User;","import React from 'react'\r\nimport Paginator from \"../common/Paginator/Paginator\";\r\nimport User from \"./User\";\r\n\r\n\r\nlet Users = (props) => {\r\n\r\n    return <div>\r\n        <Paginator currentPage={props.currentPage}\r\n                   onPageChanged={props.onPageChanged}\r\n                   totalItemsCount={props.totalUsersCount}\r\n                   pageSize={props.pageSize}\r\n                   portionSize={10}\r\n        />\r\n        <div>\r\n            {\r\n                props.users.map((user) => <User user={user}\r\n                                                key={user.id}\r\n                                                followingInProgress={props.followingInProgress}\r\n                                                follow={props.follow}\r\n                                                unfollow={props.unfollow}\r\n                />)\r\n            }\r\n        </div>\r\n    </div>\r\n}\r\n\r\nexport default Users;","export const getUsers = (state) => {\r\n    return state.usersPage.users;\r\n};\r\nexport const getPageSize = (state) => {\r\n    return state.usersPage.pageSize;\r\n};\r\nexport const getTotalUsersCount = (state) => {\r\n    return state.usersPage.totalUsersCount;\r\n};\r\nexport const getCurrentPage = (state) => {\r\n    return state.usersPage.currentPage;\r\n};\r\nexport const getIsFetching = (state) => {\r\n    return state.usersPage.isFetching;\r\n};\r\nexport const getFollowingInProgress = (state) => {\r\n    return state.usersPage.followingInProgress;\r\n};\r\n","import React from 'react'\r\nimport {connect} from \"react-redux\";\r\nimport {\r\n    follow,\r\n    unfollow,\r\n    setCurrentPage,\r\n    toggleFollowingProgress,\r\n    requestUsers\r\n} from \"../../redux/users-reducer\";\r\nimport Users from \"./Users\";\r\nimport Preloader from \"../common/Preloader/preloader\";\r\nimport {compose} from \"redux\";\r\nimport {\r\n    getCurrentPage,\r\n    getPageSize,\r\n    getTotalUsersCount,\r\n    getIsFetching,\r\n    getFollowingInProgress, getUsers\r\n} from \"../../redux/users-selectors\";\r\n\r\nclass UsersContainer extends React.Component {\r\n    componentDidMount() {\r\n        //деструктуризация\r\n        const {currentPage, pageSize} = this.props;\r\n        this.props.requestUsers(currentPage, pageSize);\r\n    }\r\n\r\n    onPageChanged = (page) => {\r\n        this.props.setCurrentPage(page);\r\n        this.props.requestUsers(page, this.props.pageSize);\r\n    }\r\n\r\n    render() {\r\n        return <>\r\n            {this.props.isFetching && <Preloader/>}\r\n            <Users totalUsersCount={this.props.totalUsersCount}\r\n                   pageSize={this.props.pageSize}\r\n                   currentPage={this.props.currentPage}\r\n                   onPageChanged={this.onPageChanged}\r\n                   users={this.props.users}\r\n                   unfollow={this.props.unfollow}\r\n                   follow={this.props.follow}\r\n                   followingInProgress={this.props.followingInProgress}\r\n            />\r\n        </>\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        users: getUsers(state),\r\n        pageSize: getPageSize(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state)\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps,\r\n        {\r\n            follow, unfollow, setCurrentPage, toggleFollowingProgress, requestUsers\r\n        }))\r\n(UsersContainer);","import React from 'react';\r\nimport style from './Header.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst Header = (props) => {\r\n    return <header className={style.header}>\r\n        <img src='https://static-cse.canva.com/blob/232576/800px-NBC_logo.svg.png'/>\r\n\r\n        <div className={style.loginBlock}>\r\n            {props.isAuth ?\r\n               <div>{props.login} - <button onClick={props.logout}>Выйти</button> </div>  :\r\n                <NavLink to={'/login'}>Login</NavLink>}\r\n        </div>\r\n    </header>\r\n}\r\n\r\nexport default Header;","import {authAPI as authApi} from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nconst SET_USER_DATA = 'auth/SET_USER_DATA';\r\n\r\n\r\nlet initialState = {\r\n    userId: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_USER_DATA:\r\n            return {\r\n                ...state,\r\n                ...action.payload\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const setAuthUserData = (userId, email, login, isAuth) => ({\r\n    type: SET_USER_DATA, payload: {userId, email, login, isAuth}\r\n});\r\n\r\n//санка\r\nexport const getAuthUserData = () => async (dispatch) => {\r\n    let response = await authApi.me();\r\n\r\n    if (response.data.resultCode === 0) {\r\n        let {id, email, login} = response.data.data;\r\n        dispatch(setAuthUserData(id, email, login, true));\r\n    }\r\n}\r\n\r\n//санка\r\nexport const login = (email, password, rememberMe) => async (dispatch) => {\r\n    let response = await authApi.login(email, password, rememberMe);\r\n\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(getAuthUserData());\r\n    } else {\r\n        let message = response.data.messages.length > 0 ? response.data.messages[0] : \"Some error\";\r\n        dispatch(stopSubmit(\"login\", {_error: message}));\r\n    }\r\n}\r\n\r\n//санка\r\nexport const logout = () => async (dispatch) => {\r\n    let response = await authApi.logout()\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setAuthUserData(null, null, null, false));\r\n    }\r\n}\r\n\r\nexport default authReducer;","import React from 'react';\r\nimport Header from \"./Header\";\r\nimport {connect} from \"react-redux\";\r\nimport {logout} from \"../../redux/auth-reducer\";\r\n\r\nclass HeaderContainer extends React.Component {\r\n\r\n    render() {\r\n        return <Header {...this.props}/>\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth,\r\n    login: state.auth.login,\r\n});\r\n\r\nexport default connect(mapStateToProps, {logout})(HeaderContainer);","import React from 'react';\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {Input} from \"../common/FormsControls/FormsControls\";\r\nimport {maxLengthCreator, required} from \"../../utils/validators/validators\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport styles from \"./../common/FormsControls/FormsControls.module.css\";\r\n\r\nconst maxLength40 = maxLengthCreator(40);\r\n\r\nconst LoginForm = (props) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            <div>\r\n                <Field placeholder={\"Email\"}\r\n                       name={\"email\"}\r\n                       component={Input}\r\n                       validate={[required, maxLength40]}\r\n                />\r\n            </div>\r\n            <div>\r\n                <Field placeholder={\"Password\"}\r\n                       name={\"password\"}\r\n                       component={Input}\r\n                       type={\"password\"}\r\n                       validate={[required, maxLength40]}\r\n                />\r\n            </div>\r\n            <div>\r\n                <Field type={\"checkbox\"}\r\n                       name={\"rememberMe\"}\r\n                       component={Input}\r\n                /> remember me\r\n            </div>\r\n            {props.error && <div className={styles.formSummaryError}>\r\n                {props.error}\r\n            </div>}\r\n            <div>\r\n                <button>Login</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst LoginReduxForm = reduxForm({form: 'login'})(LoginForm);\r\n\r\nconst Login = (props) => {\r\n    const onSubmit = (formData) => {\r\n       props.login(formData.email, formData.password, formData.rememberMe);\r\n    }\r\n    if (props.isAuth) {\r\n        return <Redirect to={\"/profile\"}/>\r\n    }\r\n    return <div>\r\n        <h1>Логин</h1>\r\n        <LoginReduxForm onSubmit={onSubmit}/>\r\n    </div>\r\n}\r\n\r\nexport default Login;","import React from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport Login from \"./Login\";\r\nimport {login, logout} from \"../../redux/auth-reducer\";\r\n\r\nclass LoginContainer extends React.Component {\r\n\r\n    render() {\r\n        return <Login login={this.props.login}\r\n                      logout={this.props.logout}\r\n                      isAuth={this.props.isAuth}/>\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth\r\n})\r\n\r\nexport default connect(mapStateToProps, {\r\n    login, logout\r\n})(LoginContainer);","import {getAuthUserData} from \"./auth-reducer\";\r\n\r\nconst INITIALIZED_SUCCESS = 'INITIALIZED_SUCCESS';\r\n\r\nlet initialState = {\r\n    initialized: false\r\n};\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case INITIALIZED_SUCCESS:\r\n            return {\r\n                ...state,\r\n                initialized: true\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const initializedSuccess = () => ({type: INITIALIZED_SUCCESS});\r\n\r\n//санка\r\nexport const initializeApp = () => (dispatch) => {\r\n    let promise = dispatch(getAuthUserData());\r\n    Promise.all([promise])\r\n        .then(() => {\r\n        dispatch(initializedSuccess());\r\n    });\r\n}\r\n\r\nexport default appReducer;","import {applyMiddleware, combineReducers, compose, createStore} from \"redux\";\r\nimport profileReducer from \"./profile-reducer\";\r\nimport dialogsReducer from \"./dialogs-reducer\";\r\nimport usersReducer from \"./users-reducer\";\r\nimport authReducer from \"./auth-reducer\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport {reducer as formReduser} from 'redux-form';\r\nimport appReducer from \"./app-reducer\";\r\n\r\nlet reducers = combineReducers({\r\n        profilePage: profileReducer,\r\n        dialogsPage: dialogsReducer,\r\n        usersPage: usersReducer,\r\n        auth: authReducer,\r\n        app: appReducer,\r\n        form: formReduser\r\n    }\r\n);\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose; // для браузерного дебага редакса\r\n\r\nlet store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n\r\nwindow.__store__ = store;\r\n\r\nexport default store;","import React from 'react';\r\nimport './App.css';\r\nimport Navbar from \"./components/Navbar/Navbar\";\r\nimport News from \"./components/News/News\";\r\nimport Music from \"./components/Music/Music\";\r\nimport Settings from \"./components/Settings/Settings\";\r\nimport {BrowserRouter, Route, withRouter} from \"react-router-dom\";\r\nimport UsersContainer from \"./components/Users/UsersContainer\";\r\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\r\nimport LoginContainer from \"./components/Login/LoginContainer\";\r\nimport {connect, Provider} from \"react-redux\";\r\nimport {initializeApp} from \"./redux/app-reducer\";\r\nimport Preloader from \"./components/common/Preloader/preloader\";\r\nimport {compose} from \"redux\";\r\nimport store from \"./redux/redux-store\";\r\n\r\n//import ProfileContainer from \"./components/Profile/ProfileContainer\";\r\n//import DialogsContainer from \"./components/Dialogs/Message/DialogsContainer\";\r\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/Message/DialogsContainer'));\r\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer'));\r\n\r\nclass App extends React.Component {\r\n    componentDidMount() {\r\n        this.props.initializeApp();\r\n    }\r\n\r\n    render() {\r\n        if (!this.props.initialized) {\r\n            return <Preloader/>\r\n        }\r\n        return (\r\n            <div className='app-wrapper'>\r\n                <React.Suspense fallback={<Preloader/>}>\r\n                <HeaderContainer/>\r\n                <Navbar/>\r\n                <div className='app-wrapper-content'>\r\n                    <Route path='/dialogs' render={() => <DialogsContainer/>}/>\r\n                    <Route path='/profile/:userId?' render={() => <ProfileContainer/>}/>\r\n                    <Route path='/news' render={() => <News/>}/>\r\n                    <Route path='/music' render={() => <Music/>}/>\r\n                    <Route path='/settings' render={() => <Settings/>}/>\r\n                    <Route path='/users' render={() => <UsersContainer/>}/>\r\n                    <Route path='/login' render={() => <LoginContainer/>}/>\r\n                </div>\r\n                </React.Suspense>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({initialized: state.app.initialized})\r\n\r\nlet AppContainer = compose(\r\n    withRouter,\r\n    connect(mapStateToProps, {initializeApp}))(App);\r\n\r\nconst MainApp = (props) => {\r\n    return <React.StrictMode>\r\n        <Provider store={store}>\r\n            <BrowserRouter>\r\n                <AppContainer/>\r\n            </BrowserRouter>\r\n        </Provider>\r\n    </React.StrictMode>\r\n};\r\n\r\nexport default MainApp;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport MainApp from \"./App\";\r\n\r\nReactDOM.render(<MainApp/>, document.getElementById('root'));\r\nreportWebVitals();\r\n\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__2kCPW\",\"error\":\"FormsControls_error__1YyjS\",\"formSummaryError\":\"FormsControls_formSummaryError__3EnUK\"};","import styles from \"../Preloader/preloader.module.css\";\r\nimport React from \"react\";\r\n\r\nlet Preloader = (props) => {\r\n    return <div className={styles.lds_ring}>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n    </div>\r\n}\r\n\r\nexport default Preloader;","import React from \"react\";\r\nimport styles from \"./FormsControls.module.css\";\r\n\r\nexport const TextArea = ({input, meta, ...props}) => {\r\n    const hasError = meta.touched && meta.error;\r\n    return (\r\n        <div className={styles.formControl + \" \" + (hasError ? styles.error : \"\")}>\r\n            <div>\r\n                <textarea {...input} {...props}></textarea>\r\n            </div>\r\n            {hasError && <span>{meta.error}</span>}\r\n        </div>\r\n    )\r\n}\r\nexport const Input = ({input, meta, ...props}) => {\r\n    const hasError = meta.touched && meta.error;\r\n    return (\r\n        <div className={styles.formControl + \" \" + (hasError ? styles.error : \"\")}>\r\n            <div>\r\n                <input {...input} {...props}></input>\r\n            </div>\r\n            {hasError && <span>{meta.error}</span>}\r\n        </div>\r\n    )\r\n}","export const required = value => {\r\n    if (value) return undefined;\r\n    return \"Field is required\";\r\n};\r\n\r\nexport const maxLengthCreator = (maxLength) => value => {\r\n    if (value.length > maxLength) return `Max length is ${maxLength} symbols`;\r\n    return undefined;\r\n};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"selectedPage\":\"Paginator_selectedPage__2NmtX\",\"paginator\":\"Paginator_paginator__13tSE\",\"pageNumber\":\"Paginator_pageNumber__23lbS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__RiFh8\",\"loginBlock\":\"Header_loginBlock__2dNuH\"};","import {profileAPI} from \"../api/api\";\r\n\r\nconst ADD_POST = 'profile/ADD-POST';\r\nconst SET_USER_PROFILE = 'profile/SET_USER_PROFILE';\r\nconst SET_STATUS = 'profile/SET_STATUS';\r\nconst DELETE_POST = 'profile/DELETE_POST';\r\nconst SAVE_PHOTO_SUCCESS = 'profile/SAVE_PHOTO_SUCCESS';\r\n\r\nlet initialState = {\r\n    postsData: [\r\n        {id: 1, message: 'message 1', likesCount: 10},\r\n        {id: 2, message: 'message 2', likesCount: 11},\r\n        {id: 3, message: 'message 3', likesCount: 14},\r\n        {id: 4, message: 'message 4', likesCount: 111},\r\n        {id: 5, message: 'message 5', likesCount: 112},\r\n    ],\r\n    profile: null,\r\n    status: \"\"\r\n};\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ADD_POST:\r\n            let newPost = action.newPost;\r\n            return {\r\n                ...state,\r\n                postsData: [...state.postsData, {id: 6, message: newPost, likesCount: 1488}]\r\n            }\r\n        case SET_USER_PROFILE:\r\n            return {\r\n                ...state,\r\n                profile: action.profile\r\n            }\r\n        case SET_STATUS:\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            }\r\n        case DELETE_POST:\r\n            return {\r\n                ...state,\r\n                postsData: state.postsData.filter(post => post.id != action.postId)\r\n            }\r\n        case SAVE_PHOTO_SUCCESS:\r\n            return {\r\n                ...state,\r\n                profile: {...state.profile, photos: action.photos}\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const addPostAС = (newPost) => ({type: ADD_POST, newPost});\r\nexport const setUserProfile = (profile) => ({type: SET_USER_PROFILE, profile});\r\nexport const setStatus = (status) => ({type: SET_STATUS, status});\r\nexport const deletePost = (postId) => ({type: DELETE_POST, postId});\r\nexport const savePhotoSuccess = (photos) => ({type: SAVE_PHOTO_SUCCESS, photos});\r\n\r\n//санки\r\nexport const getUserProfile = (userId) => async (dispatch) => {\r\n    let response = await profileAPI.getProfile(userId)\r\n    dispatch(setUserProfile(response));\r\n}\r\n\r\nexport const getUserStatus = (userId) => async (dispatch) => {\r\n    let response = await profileAPI.getStatus(userId)\r\n    dispatch(setStatus(response.data));\r\n}\r\n\r\nexport const updateUserStatus = (status) => async (dispatch) => {\r\n    let response = await profileAPI.updateStatus(status)\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setStatus(status));\r\n    }\r\n}\r\n\r\nexport const saveProfileUserPhoto = (file) => async (dispatch) => {\r\n    let response = await profileAPI.saveProfilePhoto(file)\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(savePhotoSuccess(response.data.data.photos));\r\n    }\r\n}\r\n\r\nexport default profileReducer;"],"sourceRoot":""}